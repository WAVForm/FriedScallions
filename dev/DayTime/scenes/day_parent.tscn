[gd_scene load_steps=32 format=3 uid="uid://dcw4xtglhssda"]

[ext_resource type="Script" path="res://dev/DayTime/scenes/day_parent.gd" id="1_bsikx"]
[ext_resource type="PackedScene" uid="uid://cxpi0tkbmew6x" path="res://dev/models/intersection.blend" id="2_5quki"]
[ext_resource type="ArrayMesh" uid="uid://djbhi7rsugf7s" path="res://dev/models/person_Sphere.res" id="3_q47cd"]
[ext_resource type="Script" path="res://dev/DayTime/scenes/inside.gd" id="4_tqm5m"]
[ext_resource type="ArrayMesh" uid="uid://cbqwnyhkngx1c" path="res://dev/models/trashcan.tres" id="5_1a5x4"]
[ext_resource type="ArrayMesh" uid="uid://dm7c06qblqxcj" path="res://dev/models/cakestation.tres" id="6_f6gmn"]
[ext_resource type="ArrayMesh" uid="uid://c5p3o7nrmph0f" path="res://dev/models/sandwichstation.tres" id="7_vq10d"]
[ext_resource type="ArrayMesh" uid="uid://cuktpv7smho34" path="res://dev/models/coffeestation.tres" id="8_u0bj6"]
[ext_resource type="ArrayMesh" uid="uid://dettdm1d3x33b" path="res://dev/models/teastation.tres" id="9_463ym"]
[ext_resource type="ArrayMesh" uid="uid://c8ytpfu3y7upx" path="res://dev/models/servingtray.tres" id="10_77ef6"]

[sub_resource type="Curve3D" id="Curve3D_gfkr7"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -13.5),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_xxlv4"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_8ftmu"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 13, 0, 0, 0, 0, 0, 0, 0, 0, 13, 0, -3),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_edimi"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.5, 0, -3.5, -13, 0, 0, 0, 0, 0, 0, 0, 0, -12.995, 0, -2.5),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_j8f7q"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -0.495, 0, 0, 0.2, 0, 3, 0, 0, 0, 1, 0, -2.5, -5, 0, 0, 0, 0, 0, 8.5, 0, -3.25),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_f8jml"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3.75, 0, 0, 0, 0, 0, 0, -8.5, 0, 3.25),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_25nln"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.5, 0, 0, 0, 0, 0, 0, 0, 0, -0.5, 0, -11),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_tv1gt"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_8uxoe"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -13, 0, 0, 0, 0, 0, 0, 0, 0, -13, 0, -2.75),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_htfp2"]
_data = {
"points": PackedVector3Array(0, 0, 0, 7, 0, 0, 0, 0, 0, 0.5, 0, 0.5, 0, 0, 0, 11.25, 0, -0.25),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_bqmtm"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -3, 0, 0, 0, 0, 0, 0, -5.75, 0, -3),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="Curve3D" id="Curve3D_axxso"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -4, 0, 0, 0, 0, 0, 5.5, 6.5, 0, -4, -1.5, 0, 0, 0, 0, 0, 7.75, 0, 1.35),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_0a43h"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0.6, 0, 0, 0, 0, 0, 0, 0, 12.5, 0, 0, 0, 0.35, 0, -11.6),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="BoxShape3D" id="BoxShape3D_73wy8"]
size = Vector3(8.3576, 0.001, 4.89504)

[sub_resource type="BoxShape3D" id="BoxShape3D_u25pf"]
size = Vector3(0.948864, 0.948044, 0.64502)

[sub_resource type="BoxShape3D" id="BoxShape3D_6w1sd"]
size = Vector3(1.07471, 1, 1.50562)

[sub_resource type="BoxShape3D" id="BoxShape3D_bl7f1"]
size = Vector3(1.00928, 1, 1.51099)

[sub_resource type="BoxShape3D" id="BoxShape3D_lqibb"]
size = Vector3(1, 1.8374, 1.49963)

[sub_resource type="BoxShape3D" id="BoxShape3D_xyl00"]
size = Vector3(1, 1.00769, 1.50488)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_5olog"]
radius = 0.273399
height = 1.62728

[sub_resource type="NavigationMesh" id="NavigationMesh_dnp34"]
vertices = PackedVector3Array(-3.20898, 0.496582, -2.68393, -3.20898, 0.496582, -1.68393, -2.70898, 0.496582, -1.68393, 4.29102, 0.496582, 2.06607, 4.29102, 0.496582, 0.56607, 0.0410204, 0.496582, 0.56607, -2.20898, 0.496582, 2.06607, -0.20898, 0.496582, -0.68393, 4.29102, 0.496582, -0.93393, 4.29102, 0.496582, -1.93393, -2.45898, 0.496582, -1.68393, -3.45898, 0.496582, -0.93393, -3.45898, 0.496582, 1.56607, -2.95898, 0.496582, 1.56607, -2.95898, 0.496582, -0.93393, -3.45898, 2.24658, -0.93393, -3.45898, 2.24658, 1.56607, -2.95898, 2.24658, 1.56607, -2.95898, 2.24658, -0.93393)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(4, 3, 5), PackedInt32Array(5, 3, 6), PackedInt32Array(8, 7, 9), PackedInt32Array(9, 7, 10), PackedInt32Array(7, 5, 10), PackedInt32Array(10, 5, 6), PackedInt32Array(14, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(18, 17, 15), PackedInt32Array(15, 17, 16)]
agent_radius = 0.25
filter_low_hanging_obstacles = true
filter_ledge_spans = true
filter_walkable_low_height_spans = true

[node name="day_parent" type="Node3D"]
script = ExtResource("1_bsikx")

[node name="outside_model" parent="." instance=ExtResource("2_5quki")]

[node name="friendly" type="Node3D" parent="."]

[node name="advertiser" type="MeshInstance3D" parent="friendly"]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, 2, 0.5, 2)
mesh = ExtResource("3_q47cd")

[node name="to_advert" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 0.2, 15)
curve = SubResource("Curve3D_gfkr7")

[node name="crossing" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 0.2, 1.5)
curve = SubResource("Curve3D_xxlv4")

[node name="to_line" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.5, 0.2, 1.5)
curve = SubResource("Curve3D_8ftmu")

[node name="line" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.5, 0.2, -1.5)
curve = SubResource("Curve3D_edimi")

[node name="to_register" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.2, -4)
curve = SubResource("Curve3D_j8f7q")

[node name="from_register" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.5, 0.2, -7.25)
curve = SubResource("Curve3D_f8jml")

[node name="leave" type="Path3D" parent="friendly"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2, 0.2, -4)
curve = SubResource("Curve3D_25nln")

[node name="enemy" type="Node3D" parent="."]

[node name="advertiser" type="MeshInstance3D" parent="enemy"]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, -2, 0.5, 2)
mesh = ExtResource("3_q47cd")
skeleton = NodePath("../../friendly")

[node name="to_advert" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0.2, 15)
curve = SubResource("Curve3D_gfkr7")

[node name="crossing" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0.2, 1.5)
curve = SubResource("Curve3D_tv1gt")

[node name="to_line" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.5, 0.2, 1.5)
curve = SubResource("Curve3D_8uxoe")

[node name="line" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -15, 0.2, -1.5)
curve = SubResource("Curve3D_htfp2")

[node name="to_register" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.75, 0.2, -1.75)
curve = SubResource("Curve3D_bqmtm")

[node name="from_register" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.5, 0.2, -4.75)
curve = SubResource("Curve3D_axxso")

[node name="leave" type="Path3D" parent="enemy"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.75, 0.2, -3.4)
curve = SubResource("Curve3D_0a43h")

[node name="outside_camera" type="Camera3D" parent="."]
transform = Transform3D(0.984808, -0.0733869, 0.157379, 0, 0.906308, 0.422618, -0.173648, -0.416198, 0.892539, 4.795, 7, 12)

[node name="inside_camera" type="Camera3D" parent="."]
transform = Transform3D(0.173648, -0.416198, 0.892539, 0, 0.906308, 0.422618, -0.984808, -0.0733869, 0.157379, 13.9, 2.735, -7.5)
current = true

[node name="OmniLight3D" type="DirectionalLight3D" parent="."]
light_angular_distance = 25.0

[node name="inside" type="Node3D" parent="."]
script = ExtResource("4_tqm5m")

[node name="floor" type="Area3D" parent="inside"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.71331, 0.000499994, -10.635)
shape = SubResource("BoxShape3D_73wy8")

[node name="trash_can" type="Area3D" parent="inside"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 12.251, 0.37782, -8.18972)

[node name="model" type="MeshInstance3D" parent="inside/trash_can"]
transform = Transform3D(0.3, 0, 0, 0, 0.3, 0, 0, 0, 0.3, 0, -0.00491989, 0.175879)
mesh = ExtResource("5_1a5x4")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/trash_can"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.154463, 0.100609, 0.176392)
shape = SubResource("BoxShape3D_u25pf")

[node name="cake_station" type="Area3D" parent="inside"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 7.46787, 0.516026, -13.386)

[node name="model" type="MeshInstance3D" parent="inside/cake_station"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.00491989, 0.175879)
mesh = ExtResource("6_f6gmn")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/cake_station"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0317078, -0.00369263, 0.17627)
shape = SubResource("BoxShape3D_6w1sd")

[node name="sandwich_station" type="Area3D" parent="inside"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 9.29677, 0.516026, -13.386)

[node name="model" type="MeshInstance3D" parent="inside/sandwich_station"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.00491989, 0.175879)
mesh = ExtResource("7_vq10d")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/sandwich_station"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000946045, -0.00369263, 0.17578)
shape = SubResource("BoxShape3D_bl7f1")

[node name="coffee_station" type="Area3D" parent="inside"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.0176, 0.516026, -11.3584)

[node name="model" type="MeshInstance3D" parent="inside/coffee_station"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.00491989, 0.175879)
mesh = ExtResource("8_u0bj6")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/coffee_station"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000946045, 0.415009, 0.174132)
shape = SubResource("BoxShape3D_lqibb")

[node name="tea_station" type="Area3D" parent="inside"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.0176, 0.516026, -9.60959)

[node name="model" type="MeshInstance3D" parent="inside/tea_station"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, -0.00491989, 0.175879)
mesh = ExtResource("9_463ym")
skeleton = NodePath("../..")

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/tea_station"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000946045, -0.00692749, 0.17755)
shape = SubResource("BoxShape3D_xyl00")

[node name="player" type="CharacterBody3D" parent="inside"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 10.3591, 0.519835, -8.77609)

[node name="model" type="MeshInstance3D" parent="inside/player"]
transform = Transform3D(0.15, 0, 0, 0, 0.15, 0, 0, 0, 0.15, 0, 0, 0)
mesh = ExtResource("3_q47cd")
skeleton = NodePath("../../../friendly/advertiser")

[node name="CollisionShape3D" type="CollisionShape3D" parent="inside/player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.298861, 0)
shape = SubResource("CapsuleShape3D_5olog")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="inside/player"]
debug_enabled = true
debug_path_custom_color = Color(1, 0, 0, 1)

[node name="floor_nav" type="NavigationRegion3D" parent="inside"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.09258, 0, -10.7068)
navigation_mesh = SubResource("NavigationMesh_dnp34")

[node name="floor" type="CSGBox3D" parent="inside/floor_nav"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.610168, 0.00012207, -0.326233)
visible = false
size = Vector3(8.37122, 0.00708008, 5.70032)

[node name="inside_counter" type="CSGBox3D" parent="inside/floor_nav"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.43375, 0.321182, -0.0677805)
visible = false
use_collision = true
size = Vector3(4.73062, 0.629669, 0.745178)

[node name="outside_counter" type="CSGBox3D" parent="inside/floor_nav"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0600786, 0.95034, 2.70722)
visible = false
size = Vector3(7.09471, 1.88799, 0.669174)

[node name="station1" type="CSGBox3D" parent="inside/floor_nav"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.26489, 0.988963, 0.403671)
visible = false
size = Vector3(1.38818, 1.96781, 3.25931)

[node name="station2" type="CSGBox3D" parent="inside/floor_nav"]
transform = Transform3D(2.98023e-08, 0, -1, 0, 1, 0, 1, 0, 2.98023e-08, -0.885509, 1.08776, -2.64505)
visible = false
size = Vector3(1.07776, 2.1654, 3.33106)

[node name="sink" type="CSGBox3D" parent="inside/floor_nav"]
transform = Transform3D(2.98023e-08, 0, -1, 0, 1, 0, 1, 0, 2.98023e-08, 2.99317, 1.11199, -2.73829)
visible = false
size = Vector3(0.891266, 2.21387, 3.47705)

[node name="servingtray1" type="MeshInstance3D" parent="inside"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 9.49914, 0.834, -10.75)
mesh = ExtResource("10_77ef6")

[node name="servingtray2" type="MeshInstance3D" parent="inside"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 10.2491, 0.834, -10.75)
mesh = ExtResource("10_77ef6")

[node name="servingtray3" type="MeshInstance3D" parent="inside"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 10.9991, 0.834, -10.8)
mesh = ExtResource("10_77ef6")

[node name="servingtray4" type="MeshInstance3D" parent="inside"]
transform = Transform3D(0.2, 0, 0, 0, 0.2, 0, 0, 0, 0.2, 11.7491, 0.834, -10.8)
mesh = ExtResource("10_77ef6")
